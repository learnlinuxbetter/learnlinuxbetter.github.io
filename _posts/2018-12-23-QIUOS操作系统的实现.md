---
title: QIUOS操作系统的实现
date: 2018-12-23 00:00:01
categories: QIUOS
tags:

---

自己动手构建一个操作系统一直是大学期间的一个愿望。本科阶段虽然学习了操作系统这门课程，但是总体偏向于理论，虽然也有实验，但都是针对操作系统的某一模块进行探索，其目的也只是为了加深书本知识的理解，所以总是感到隔靴搔痒不过瘾，同时计算机世界对于我而言还存在着许多迷雾。正是这种强烈的学习探索欲望让我下定决心自己动手编写一个操作系统。

QiuOS一共有7000行不到的代码，实现了一个基于控制台的分时多任务操作系统，它有自己的文件系统，并且可以运行gcc编译的c语言程序，具有一定的扩展性。代码的大部分是在住院期间病床上完成的。通过这个项目，我亲自体会了构建一个项目的过程，看到了自己的作品从刚开始的实验性程序到具有一定的可玩性的玩具程序，最后成长为具有实用价值的操作系统，整个过程真是惊心动魄，激动人心。

在编写QiuOS过程中经常会遇到知识储备不足的问题，但好在有我的好朋友给我提供了连接Google的方法，让我可以从许多国外站点获取帮助文档。同时我也参考了于渊老师的《Orange’s 一个操作系统的实现》，李忠老师的《x86从实模式到保护模式》，赵炯老师的《Linux内核完全注释》。这三本书对于将理论转化为实践具有极大的帮助作用。

由于自己的编程能力不是很强，程序中经常会出现一些缺陷，而往往为了把这些缺陷找出来就得花费我将近一天时间。虽然整个过程磕磕绊绊，问题不断，但是始终在按照“遇到问题、搜集资源、分析整理、解决问题”的循环进行，正是这些循环才将以前本科阶段学到的理论性的知识转化为实际可操作的步骤，是对知识的进一步理解升华，同时提升了自己的工程能力。

在这里还要啰嗦一点，如果一开始我就意识到完成这个项目需要耗费我这么久的时间以及这中间会遇到这么多让人感到痛苦的麻烦，那我一定会被吓倒，停滞不前，得过且过。好在我一直幻想着它成功时候激动人心的情景，美好的愿景推动着我不停地向前。同时我按照操作系统的组成部分将QiuOS划分为尽可能小的代码功能，让我每完成一步就能看到效果，就像玩游戏打怪升级一样让我渴望完成每一个步骤。

上面扯了太多，下面我们开始言归正传。本系列文章主要介绍QiuOS操作系统的实现，同时也会涉及x86硬件体系的一些知识，比如中断控制、I/O操作等以方便大家的学习和理解。所要展现的内容按照以下顺序展开：

1. [QiuOS内核框架介绍](https://qiutianshu.wordpress.com/2018/12/23/qiuos%E5%86%85%E6%A0%B8%E6%A1%86%E6%9E%B6%E4%BB%8B%E7%BB%8D/)
2. [开发环境搭建](https://qiutianshu.wordpress.com/2018/12/24/%e5%bc%80%e5%8f%91%e7%8e%af%e5%a2%83%e6%90%ad%e5%bb%ba/)
3. [一切从512字节引导扇区开始](https://qiutianshu.wordpress.com/2018/12/24/%e4%b8%80%e5%88%87%e4%bb%8e512%e5%ad%97%e8%8a%82%e5%bc%95%e5%af%bc%e6%89%87%e5%8c%ba%e5%bc%80%e5%a7%8b/)
4. [历史性的跳跃之从Loader到内核](https://qiutianshu.wordpress.com/2018/12/27/%e5%8e%86%e5%8f%b2%e6%80%a7%e7%9a%84%e8%b7%b3%e8%b7%83%e4%b9%8b%e4%bb%8eloader%e5%88%b0%e5%86%85%e6%a0%b8/)
5. [内核main函数](https://qiutianshu.wordpress.com/2018/12/29/%e5%86%85%e6%a0%b8main%e5%87%bd%e6%95%b0/)
6. 迟到的进程
7. I/O系统
8. 让人头大的进程间通信
9. 文件系统
10. 内存管理
11. 安装到正真的计算机上

文章顺序也就是QiuOS系统启动的顺序，每章的标题介绍了本章的主要内容，中间也会插入小标题对实现的步骤进行详细介绍。

在真正开始之前有两句话与大家共勉：

- 实践是学习知识和提升能力的很好方法
- 遇到困难想要放弃，那就幻想成功时候激动人心的场面

———致不甘平庸的程序员

代码仓库：https://github.com/qiutianshu/QiuOS